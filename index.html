<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Rock, Paper, Scissors</title>
    <style></style>
  </head>
  <body>
    <div>
      <p id="results">Let's go!</p>
    </div>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <script>
      let playerScore = 0;
      let computerScore = 0;
      const random = function (max) {
        return Math.floor(Math.random() * max);
      };
      const results = document.querySelector("#results");
      const rock = document.querySelector("#rock");
      const paper = document.querySelector("#paper");
      const scissors = document.querySelector("#scissors");

      let rockClick = rock.addEventListener("click", () =>
        playRound("rock", getComputerChoice())
      );
      let paperClick = paper.addEventListener("click", () =>
        playRound("paper", getComputerChoice())
      );
      let scissorClick = scissors.addEventListener("click", () =>
        playRound("scissors", getComputerChoice())
      );

      const getComputerChoice = function () {
        //computer randomly chooses rock, paper or scissors
        const choice = ["rock", "paper", "scissors"];
        return choice[random(choice.length)];
      };

      const playRound = function (playerSelection, computerSelection) {
        //computer's choice VS your choice
        // playerSelection = getPlayerChoice();
        // computerSelection = getComputerChoice();
        // console.log(computerSelection);
        // console.log(playerSelection);
        if (playerSelection === computerSelection) {
          results.textContent = `IT'S A TIE!...Computer: ${computerScore} You: ${playerScore}`;
        } else if (
          (playerSelection === "rock" && computerSelection === "scissors") ||
          (playerSelection === "paper" && computerSelection === "rock") ||
          (playerSelection === "scissors" && computerSelection === "paper")
        ) {
          playerScore++;
          results.textContent = `YOU WIN THIS ROUND: ${computerScore} You: ${playerScore}`;
        } else {
          computerScore++;
          results.textContent = `YOU LOST :(... Computer: ${computerScore} You: ${playerScore}`;
        }
        declareWinner();
      };

      const declareWinner = function () {
        if (playerScore === 5) {
          results.textContent = `You win ${playerScore} to ${computerScore}. Congratulations!`;
        } else if (computerScore === 5) {
          results.textContent = `You lost ${playerScore} to ${computerScore}. Better luck next time!`;
        }
      };
    </script>
  </body>
</html>
